"use strict";var express=require("express"),app=express(),path=require("path"),logger=require("morgan"),cookieParser=require("cookie-parser"),indexsickleavers=require("./routes/sickleaves.js"),usersRouter=require("./routes/users.js"),managerRouter=require("./routes/manager.js"),modelsickleave=require("./routes/model_sikleaves.js"),mongoose=require("mongoose"),bodyParser=require("body-parser"),Customer=require("./models/customerSchema.cjs"),methodOverride=require("method-override"),port=3501,uri="mongodb+srv://zoolka:zzzzz11111@masarproject.daj3l2l.mongodb.net/?retryWrites=true&w=majority&appName=masarproject";mongoose.connect(uri).then(function(){return console.log("You successfully connected to MongoDB!")}).catch(function(e){return console.error("Error connecting to MongoDB:",e)});var _require=require("url"),fileURLToPath=_require.fileURLToPath,_require2=require("path"),dirname=_require2.dirname;methodOverride=require("method-override");app.set("views",path.join(__dirname,"views")),app.set("view engine","pug"),app.use(express.urlencoded({extended:!0})),app.use(bodyParser.json()),app.use(logger("dev")),app.use(express.json()),app.use(express.urlencoded({extended:!1})),app.use(cookieParser()),app.use(express.static(path.join(__dirname,"public"))),app.use(methodOverride("_method")),app.use("/",indexsickleavers),app.use("/users",usersRouter),app.use("/manager",managerRouter),app.use("/model_sikleaves",modelsickleave),app.use(function(e,r,s,o){s.locals.message=e.message,s.locals.error="development"===r.app.get("env")?e:{},s.status(e.status||500),s.render("error")}),app.get("/main",function(e,r){r.render("index",{title:"Express"})}),app.get("/slenquiry",function(e,r){r.render("sickleaves",{title:"Express"})}),app.get("/addqr",function(e,r){r.render("sickleavesadd",{title:"Express"})}),app.get("/editqr/:id",function(e,r){Customer.findById(e.params.id).then(function(e){r.render("sickleavesedit",{obj:e})}).catch(function(e){console.log(e)})}),app.listen(port,function(){console.log("App is running on http://localhost:"+port)}),module.exports=app;
//# sourceMappingURL=app.min.js.map
