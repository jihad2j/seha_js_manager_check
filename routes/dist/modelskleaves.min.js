"use strict";var express=require("express"),router=express.Router(),PDFDocument=require("pdfkit"),fs=require("fs"),path=require("path"),Customer=require("../models/customerSchema");router.get("/user/:id",function(t,i){Customer.findById(t.params.id).then(function(t){i.json(t),console.log(t)}).catch(function(t){console.log(t)})}),router.post("/generatorsickleaves",function(t,i,e){var n=new PDFDocument;n.font("public/font/Cairo-Regular.ttf"),n.page.size="A4",n.page.margins={top:0,bottom:50,left:20,right:20};var o=t.body.tday,a=t.body.tinfoid;infodurationar=t.body.tinfodurationar,infodurationen=t.body.tinfodurationen,infodatehin=t.body.tinfodatehin,infodatemout=t.body.tinfodatemout,infodatehout=t.body.tinfodatehout,infodatemin=t.body.tinfodatemin,infodatem=t.body.tinfodatem,infonamear=t.body.tinfonamear,infonameen=t.body.tinfonameen,infonational=t.body.tinfonational,infonationalityar=t.body.tinfonationalityar,infonationalityen=t.body.tinfonationalityen,infoemployerar=t.body.tinfoemployerar,infoemployeren=t.body.tinfoemployeren,infophysicianar=t.body.tinfophysicianar,infophysicianen=t.body.tinfophysicianen,infoPositionAr=t.body.tinfoPositionAr,infoPositionEn=t.body.tinfoPositionEn,infoCentralAr=t.body.tinfoCentralAr,infotime=t.body.tinfotime,infoCentralEn=t.body.tinfoCentralEn,infoDateAr=t.body.tinfoDateAr,infoCentralid=t.body.tinfoCentralid,logocenter=t.body.logocenter;var f="Kingdom of Saudi Arabia",r="Sick Leave Report",d="تقرير إجازة مرضية",h="Leave ID",g="رمز الإجازة",l="Leave Duration",w="مدة الإجازة",p="Admission Date",u="تاريخ الدخول",s="Discharge Date",m="تاريخ الخروج",S="Issue Date",y="تاريخ اصدار التقرير",b="Name",c="الاسم",x="National ID/Iqama",O="رقم الهوية/الإقامة",C="Nationality",z="الجنسية",A="Employer",D="جهة العمل",v="Physician Name",P="اسم الطبيب المعالج",j="Position",E="المسمى الوظيفي",q="للتحقق من بيانات التقرير يرجى التاكد من زيارة موقع منصة صحة الرسمي",k="to check the report data please visit Seha`s official website",B="www.quiris-se.pw/ui/slenquiry";n.image("public/image/back1.jpg",0,0,{width:595.28,height:841.89});n.image("public/image/logo-seha.jpg",26,20,{width:90,height:50});n.image("public/image/logo-kingdom.jpg",235,20,{width:125,height:40});n.image("public/image/logo-right.jpg",430,1.7,{width:181,height:140});n.image("public/image/logo-health.jpg",475,722,{width:100,height:50}),n.fontSize(10),n.fillColor("#0f0e0e"),n.font("public/font/Cairo-SemiBold.ttf"),n.text(f,n.page.width/2-n.widthOfString(f)/1.7,40),n.fillColor("#304378"),n.fontSize(20),n.font("public/font/Cairo-Bold.ttf"),n.text(r,n.page.width/2-n.widthOfString(r)/1.9,135),n.fillColor("#4f80c4"),n.text(d,n.page.width/2-n.widthOfString(d)/1.9,100,{features:["rtla"]}),n.fontSize(8),n.fillColor("#304378"),n.font("public/font/Cairo-SemiBold.ttf"),n.text(h,n.page.width/9-n.widthOfString(h)/2.5,224),n.fillColor("#fbfbfb"),n.text(l,n.page.width/9-n.widthOfString(l)/2.5,253),n.fillColor("#304378"),n.text(p,n.page.width/9-n.widthOfString(p)/2.5,284),n.text(s,n.page.width/9-n.widthOfString(s)/2.5,314),n.text(S,n.page.width/9-n.widthOfString(S)/2.5,344),n.text(b,n.page.width/9-n.widthOfString(b)/2.5,375),n.text(x,n.page.width/9-n.widthOfString(x)/2.5,406),n.text(C,n.page.width/9-n.widthOfString(C)/2.5,436),n.text(A,n.page.width/9-n.widthOfString(A)/2.5,466),n.text(v,n.page.width/9-n.widthOfString(v)/2.5,498),n.text(j,n.page.width/9-n.widthOfString(j)/2.5,527),n.fontSize(8),n.fillColor("#304378"),n.text(g,n.page.width-n.page.width/6-n.widthOfString(g)/3.5,223,{features:["rtla"]}),n.fillColor("#fbfbfb"),n.text(w,n.page.width-n.page.width/6-n.widthOfString(w)/3.5,252,{features:["rtla"]}),n.fillColor("#304378"),n.text(u,n.page.width-n.page.width/6-n.widthOfString(u)/3,282,{features:["rtla"]}),n.text(m,n.page.width-n.page.width/6-n.widthOfString(m)/3,312,{features:["rtla"]}),n.text(y,n.page.width-n.page.width/6-n.widthOfString(y)/2.7,342,{features:["rtla"]}),n.text(c,n.page.width-n.page.width/6-n.widthOfString(c)/5,373,{features:["rtla"]}),n.text(O,n.page.width-n.page.width/6-n.widthOfString(O)/2.6,404,{features:["rtla"]}),n.text(z,n.page.width-n.page.width/6-n.widthOfString(z)/5,434,{features:["rtla"]}),n.text(D,n.page.width-n.page.width/6-n.widthOfString(D)/4,464,{features:["rtla"]}),n.text(P,n.page.width-n.page.width/6-n.widthOfString(P)/2.6,494,{features:["rtla"]}),n.text(E,n.page.width-n.page.width/6-n.widthOfString(E)/2.6,523,{features:["rtla"]}),n.text(a,n.page.width/2-n.widthOfString(a)/1.6,224),n.fillColor("#fbfbfb"),n.text(infodurationen,n.page.width/3-n.widthOfString(infodurationen)/2,254),n.fillColor("#304378"),n.text(infodatemin,n.page.width/3-n.widthOfString(infodatemin)/2,285),n.text(infodatemout,n.page.width/3-n.widthOfString(infodatemout)/2,315),n.text(infodatem,n.page.width/2-n.widthOfString(infodatem)/1.6,345),n.fontSize(7),n.text(infonameen,n.page.width/3-n.widthOfString(infonameen)/2,377),n.fontSize(8),n.text(infonational,n.page.width/2-n.widthOfString(infonational)/1.6,406),n.text(infonationalityen,n.page.width/3-n.widthOfString(infonationalityen)/2,436),n.text(infoemployeren,n.page.width/3-n.widthOfString(infoemployeren)/2,466),n.text(infophysicianen,n.page.width/3-n.widthOfString(infophysicianen)/2,497),n.text(infoPositionEn,n.page.width/3-n.widthOfString(infoPositionEn)/2,528),n.fillColor("#fbfbfb"),n.text(infodurationar,n.page.width/1.5-n.widthOfString(infodurationar)/1.5,254,{features:["rtla"]}),n.fillColor("#304378"),n.text(infodatehin,n.page.width/1.5-n.widthOfString(infodatehin)/1.3,285,{features:["rtla"]}),n.text(infodatehout,n.page.width/1.5-n.widthOfString(infodatehout)/1.3,315,{features:["rtla"]}),n.fontSize(7.5),n.text(infonamear,n.page.width/1.5-n.widthOfString(infonamear)/1.6,376,{features:["rtla"]}),n.fontSize(8),n.text(infonationalityar,n.page.width/1.5-n.widthOfString(infonationalityar)/1.1,436,{features:["rtla"]}),n.text(infoemployerar,n.page.width/1.5-n.widthOfString(infoemployerar)/1.4,468,{features:["rtla"]}),n.fontSize(7.5),n.text(infophysicianar,n.page.width/1.5-n.widthOfString(infophysicianar)/1.4,497,{features:["rtla"]}),n.fontSize(8),n.text(infoPositionAr,n.page.width/1.5-n.widthOfString(infoPositionAr)/1,528,{features:["rtla"]}),n.fontSize(7),n.font("public/font/Cairo-Regular.ttf"),n.fillColor("#0f0e0e");var I="public/image/"+logocenter+".jpg";n.image(I,417,614,{width:75,height:65}),n.text(infoCentralAr,n.page.width-n.page.width/4-n.widthOfString(infoCentralAr)/1.8,678,{features:["rtla"]}),n.text(infoCentralEn,n.page.width-n.page.width/4-n.widthOfString(infoCentralEn)/1.8,689,{features:["rtla"]}),n.text(infoCentralid,n.page.width-n.page.width/4-n.widthOfString(infoCentralid)/1.8,699,{features:["rtla"]}),n.fontSize(7);n.image("public/image/line.jpg",75,680,{width:90,height:10}),n.image("public/image/barcode-new.jpg",86,570,{width:69,height:70}),n.text(k,n.page.width/6-n.widthOfString(k)/2.9,663),n.text(q,n.page.width/6-n.widthOfString(q)/2.5,649,{features:["rtla"]}),n.fillColor("#0000FF"),n.text(B,n.page.width/6-n.widthOfString(B)/3.6,674),n.fillColor("#0f0e0e"),n.fontSize(7),n.text(infotime,35,710),n.text(infoDateAr,35,720);var L=[];n.on("data",L.push.bind(L)),n.on("end",function(){var t=Buffer.concat(L);i.writeHead(200,{"Content-Length":Buffer.byteLength(t),"Content-Type":"application/pdf","Content-disposition":"attachment;filename=sickleaves_".concat(infonameen,"_").concat(o,"day.pdf")}),i.end(t)}),n.end()}),module.exports=router;
//# sourceMappingURL=modelskleaves.min.js.map
