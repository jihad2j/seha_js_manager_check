{"version":3,"sources":["model_sikleaves.js"],"names":["router","require","Router","PDFDocument","Customer","path","fileURLToPath","dirname","findById","req","params","id","then","result","doc","font","get","size","top","margins","left","inputdaynum","right","inputgsl","infodurationar","inputindurationh","daynum","infoid","infodurationen","infodatehin","inputdatehin","infodatemout","infodatehout","infodatemin","inputnameen","infodatem","inputdatesick","infonamear","inputnamear","infonameen","infonational","inputidentity","infonationalityar","infonationalityen","infoemployerar","inputworkar","infoemployeren","inputworken","infophysicianar","inputworktypeen","infophysicianen","infoPositionAr","infoPositionEn","inputcentralnameen","infoCentralAr","infotime","inputtimeparint","infoCentralEn","console","infoCentralid","log","logocenter","sickleaveTitleEn","sickleaveRebortEn","sickleaveRebortAr","sickleaveDurationEn","sickleaveDurationAr","sickleaveDateInEn","sickleaveDateOutAr","sickleaveDateEn","sickleaveDateAr","infoDateAr","sickleaveNationalEn","sickleaveNationalAr","sickleaveNationalityEn","sickleaveEmployerAr","sickleavePhysicianEn","sickleavePhysicianAr","infobarcodear","sickleaveIdAr","width","height","sickleaveDateOutEn","sickleaveDateInAr","sickleaveNameAr","sickleaveEmployerEn","sickleaveNationalityAr","image","logo_seha","page","widthOfString","text","imageslogo_kingdom","fontSize","imageslogo_right","sickleaveIdEn","imagesbarcode_new","imageslogo_health","sickleaveNameEn","sickleavePositionEn","fillColor","features","sickleavePositionAr","imagelogo","infobarcodeen","infobarcodeweb","buffers","on","push","bind","Buffer","concat","res","line","byteLength","pdfData","end","err","exports"],"mappings":"aAAA,IAAMA,OAASC,QAAQ,WAAWC,SAC5BC,YAAcF,QAAQ,UADtBD,KAASC,QAAQ,QAGjBG,SAAWH,QAAQ,yCADnBI,QAAOJ,OAGXK,uBAAAA,wBAIEL,QAAQ,QANZM,kBAAAA,QAQAP,OANEM,IAAAA,sBAAAA,SAAAA,EAAAA,IAOAF,SAASI,SAASC,EAAIC,OAAOC,IAAIC,KAAK,SAAAC,GAJtCN,IAAAA,EAMc,IAAIJ,YAChBW,EAAIC,KAAK,kCAJbf,EAAOgB,KAAIC,KAAA,KACTb,EAAAA,KAASI,QAAY,CAEnBU,IAAS,EACTJ,OAAS,GACTA,KAAA,GACAA,MAASK,IAGPC,IAAAA,EAHiBP,EAAAQ,YAIjBC,EAAOT,EAAAU,SAJTC,EAAAX,EAAAY,iBAOIC,EAAgBL,EAAAA,eAChBM,EAASd,EAAOU,aAChBC,EAAcX,EAAGA,cACjBe,EAAcf,EAAGA,cACjBgB,EAAchB,EAAOiB,aACrBC,EAAYlB,EAAGA,cACfmB,EAAYnB,EAAGA,YACfoB,EAAWpB,EAASqB,YACpBC,EAAYtB,EAAOuB,cACnBC,EAAoBC,EAAAA,mBACpBC,EAAoBL,EAAAA,mBACpBM,EAAe3B,EAAO4B,YACtBC,EAAiB7B,EAAGA,YACpB8B,EAAiB9B,EAAGA,cACpB+B,EAAiB/B,EAAOgC,cACxBC,EAAiBjC,EAAOkC,gBACxBC,EAAenC,EAASoC,gBACxBC,EAAerC,EAAGA,mBAClBsC,EAAAA,EAAiBtC,gBACjBuC,EAAcvC,EAASwC,mBACvBC,EAAazC,EAAGA,gBAChB0C,EAAW1C,EAAO2C,eAClBC,EAAa5C,EAAGA,gBAEpB6C,QAAIC,IAAAA,QAGJ,IAAAjC,IAGEgC,QAAQE,IAAIlC,GADdA,EAAWA,SAET,IAASC,IACV+B,QAAAE,IAAAjC,GAGCA,EAAS,SADT,IAAQiC,IACRjC,QAAMiC,IAANpC,GACDA,EAAA,SAC6B,IAAnBA,IACTkC,QAAQE,IAAIpC,GACZA,EAAiB,SAMQ,IAAhBK,IAJX6B,QAAIE,IAAOhC,GACT8B,EAAY9B,SAEb,IAAAG,IAMC2B,QAAQE,IAAI7B,GALdA,EAAWF,SAET,IAAAA,IACD6B,QAAAE,IAAA5B,GAOCA,EAAe,SALf,IAAQ4B,IACR7B,QAAAA,IAAYE,GACbA,EAAA,SACG,IAAOD,IACT0B,QAAQE,IAAI5B,GACZA,EAAY,SAUY,IAAfK,IARXqB,QAAIE,IAAO3B,GACTyB,EAAYzB,SAEb,IAAAM,IAUCmB,QAAQE,IAAIrB,GATdA,EAAWJ,SAET,IAASK,IACVkB,QAAAE,IAAApB,GAWCA,EAAe,SATf,IAAQoB,IACRvB,QAAAA,IAAUK,GACXA,EAAA,SACyB,IAAfH,IACTmB,QAAQE,IAAIrB,GACZA,EAAA,SAc4B,IAAnBK,IAZXA,EAAWJ,GACTkB,QAAQE,IAAIpB,SAEb,IAAAM,IAcCA,EAAiB,GAbnBY,QAAIE,IAAOlB,SAET,IAAAA,IACDM,EAAA,GAeCU,QAAQE,IAAIZ,SAbZ,IAAQY,IACRjB,EAAiB,GAClBe,QAAAE,IAAAV,SAC6B,IAAnBN,IACTA,EAAiB,GACjBc,QAAQE,IAAIhB,SAkBgB,IAAnBQ,IAhBXA,EAAWN,GACTA,QAAAA,IAAAA,SAED,IAAAQ,IAkBCA,EAAgB,GAjBlBI,QAAIE,IAAOZ,SAEGA,IAAJY,IACTL,EAAA,GAmBCG,QAAQE,IAAIL,SAjBZ,IAAAL,IACAQ,EAAYR,GACbQ,QAAAE,IAAAH,SACG,IAAON,IACTA,EAAAA,GACAO,QAAQE,IAAIT,SAsBe,IAAlBQ,IApBXA,EAAWP,GACTA,QAAAA,IAAAA,SAED,IAAAS,IAsBCA,EAAa,IArBfH,QAAIE,IAAON,IAGV,IAAAQ,EAAA,0BAuBKC,EAAoB,oBAtBtBC,EAAoB,oBACtBT,EAAA,WACAG,EAAA,cACDO,EAAA,iBAwBKC,EAAsB,cAvBxBC,EAAA,iBACFV,EAAA,eACAC,EAAA,iBACDU,EAAA,eAyBKC,EAAkB,aAxBpBC,EAAA,sBACFC,EAAA,OACAb,EAAA,QACDc,EAAA,oBA0BKC,EAAsB,qBAzBxBC,EAAyB,cAC3Bf,EAAA,UACAD,EAAA,WACDiB,EAAA,YA2BKC,EAAuB,iBA1BzBC,EAAsB,qBACxBhB,EAAA,WACAH,EAAA,iBA8BIoB,EAAgB,qEA3BhBhB,GAAgB,gEAChBC,GAAiB,gCAGvBjD,EAAMiE,MADa,0BACG,EAAA,EAAA,CACtBC,MAAMf,OACNgB,OAAMf,SAGNpD,EAAMoE,MADAC,8BACAD,GAAqB,GAAA,CAC3BF,MAAMZ,GACNa,OAAMZ,KAGNvD,EAAMsE,MADkB,iCACxB,IAAA,GAAA,CACAJ,MAAMR,IACNS,OAAMR,KAGN3D,EAAMuE,MADAC,+BACsB,IAAA,IAA5B,CACAN,MAAML,IACNM,OAAML,MAKN9D,EAAAyE,MAFyB,gCAEzB,IAAA,IAAA,CA4BEP,MAAO,IA3BTC,OAAMH,KAMJE,EAAAA,SAAO,IACPC,EAAAA,UAAQ,WAFkBnE,EAA5BC,KAAA,mCAIAD,EAAI0E,KAAAA,EAAY1E,EAAA2E,KAAAT,MAAA,EAAhBlE,EAAA4E,cAAA5B,GAAA,IAAA,IACAhD,EAAIyE,UAAMC,WACRR,EAAAA,SAD2B,IAE3BC,EAAAA,KAAM,+BAFqBnE,EAA7B6E,KAAA5B,EAAAjD,EAAA2E,KAAAT,MAAA,EAAAlE,EAAA4E,cAAA3B,GAAA,IAAA,KAIAjD,EAAI8E,UAAAA,WACJ9E,EAAIyE,KAAJvB,EAAAlD,EAA8B2E,KAA9BT,MAAuC,EAAAlE,EAAA4E,cAAA1B,GAAA,IAAA,IAAA,CACrCgB,SADqC,CAAA,UAAAlE,EAAvC+E,SAAA,GAIA/E,EAAIgF,UAAAA,WACJhF,EAAIyE,KAAJ,mCACEP,EAAAA,KAAOe,EAD6BjF,EAAA2E,KAAAT,MAAA,EAAAlE,EAAA4E,cAAAK,GAAA,IAAA,KAEpCd,EAAAA,UAAQ,WAF4BnE,EAAtC6E,KAAA1B,EAAAnD,EAAA2E,KAAAT,MAAA,EAAAlE,EAAA4E,cAAAzB,GAAA,IAAA,KAIAnD,EAAIkF,UAAAA,WACJlF,EAAImF,KAAAA,EAAoBnF,EAAA2E,KAAAT,MAAA,EAAAlE,EAAA4E,cAAxBvB,GAAA,IAAA,KACArD,EAAIyE,KAAJL,EAA6BpE,EAA7B2E,KAAAT,MAAuC,EAAAlE,EAAA4E,cAAAR,GAAA,IAAA,KACrCF,EAAAA,KAAOX,EAD8BvD,EAAA2E,KAAAT,MAAA,EAAAlE,EAAA4E,cAAArB,GAAA,IAAA,KAErCY,EAAAA,KAAMiB,EAAEpF,EAAA2E,KAAAT,MAAA,EAAAlE,EAAA4E,cAAAQ,GAAA,IAAA,KAF6BpF,EAIvC6E,KAAAnB,EAAA1D,EAAA2E,KAAAT,MAAA,EAAAlE,EAAA4E,cAAAlB,GAAA,IAAA,KACA1D,EAAA6E,KAAAjB,EAAA5D,EAAA2E,KAAAT,MAAA,EAAAlE,EAAA4E,cAAAhB,GAAA,IAAA,KACA5D,EAAA6E,KAAAN,EAAAvE,EAAA2E,KAAAT,MAAA,EAAAlE,EAAA4E,cAAAL,GAAA,IAAA,KACAvE,EAAA6E,KAAAf,EAAA9D,EAAA2E,KAAAT,MAAA,EAAAlE,EAAA4E,cAAAd,GAAA,IAAA,KA4BA9D,EAAI6E,KAAKQ,EAAqBrF,EAAI2E,KAAKT,MAAQ,EAAIlE,EAAI4E,cAAcS,GAAuB,IAAK,KA1BjGrF,EAAIsF,SAAJ,GACAtF,EAAIC,UAAK,WACTD,EAAI6E,KAAK7B,EAAAA,EAAkBhD,KAAI2E,MAAJ3E,EAAA2E,KAAwBT,MAACU,EAAAA,EAAc5B,cAAlBiB,GAAhD,IAAA,IAAA,CACAjE,SAAIsF,CAAJ,UAEAtF,EAAIC,UAAK,WACTD,EAAI6E,KAAK5B,EAAmBjD,EAAI2E,KAAKT,MAATlE,EAAwB2E,KAACC,MAAAA,EAAc3B,EAAAA,cAAqBG,GAAxF,IAAA,IAAA,CACApD,SAAIsF,CAAJ,UAEEC,EAAAA,UAAW,WADqFvF,EAAlG6E,KAAAR,EAAArE,EAAA2E,KAAAT,MAAAlE,EAAA2E,KAAAT,MAAA,EAAAlE,EAAA4E,cAAAP,GAAA,EAAA,IAAA,CAGArE,SAAA,CAAa,UAEbA,EAAIC,KAAKqD,EAAAtD,EAAA2E,KAAAT,MAATlE,EAAA2E,KAAAT,MAAA,EAAAlE,EAAA4E,cAAAtB,GAAA,EAAA,IAAA,CACAtD,SAASiF,CAAAA,UAETjF,EAAI6E,KAAK1B,EAAAA,EAAqBnD,KAAI2E,MAAJ3E,EAAA2E,KAAqB3E,MAAI4E,EAAAA,EAAczB,cAAAA,GAArE,IAAA,IAAA,CACAnD,SAAIsF,CAAJ,UAEAtF,EAAI6E,KAAKT,EAAAA,EAAoBpE,KAAI2E,MAAJ3E,EAAA2E,KAAwBT,MAACU,EAAAA,EAAcR,cAAAA,GAApE,EAAA,IAAA,CACApE,SAASuD,CAAAA,UAETvD,EAAI6E,KAAKnB,EAAqB1D,EAAI2E,KAAKT,MAATlE,EAAqBA,KAAI4E,MAAAA,EAAclB,EAAAA,cAAlBC,GAAnD,IAAA,IAAA,CACA3D,SAAS4D,CAAAA,UAET5D,EAAI6E,KAAKf,EAAsB9D,EAAI2E,KAAKT,MAATlE,EAAwB2E,KAACC,MAAAA,EAAcd,EAAAA,cAAlBU,GAApD,EAAA,IAAA,CACAxE,SAASqF,CAAAA,UAETrF,EAAI+E,KAAAA,EAAJ/E,EAAA2E,KAAAT,MAAAlE,EAAA2E,KAAAT,MAAA,EAAAlE,EAAA4E,cAAAf,GAAA,EAAA,IAAA,CACA7D,SAAIsF,CAAJ,UAEEC,EAAAA,KAAAA,EAAUvF,EAAA2E,KAAAT,MAAAlE,EAAA2E,KAAAT,MAAA,EAAAlE,EAAA4E,cAAAb,GAAA,IAAA,IAAA,CADZwB,SAAA,CAAA,UAIAvF,EAAI6E,KAAKzB,EAAqBpD,EAAI2E,KAAKT,MAASlE,EAAI2E,KAAKT,MAA3B,EAAwClE,EAAI4E,cAAcxB,GAAuB,IAAK,IAAK,CACvHmC,SAAU,CAAC,UAIXA,EAAAA,KAAAA,EAAWvF,EAAD2E,KAAAT,MAAA,EAAAlE,EAAA4E,cAAA/D,GAAA,IAAA,KADuGb,EAAnHsF,UAAA,WAGAtF,EAAI6E,KAAKvB,EAAAA,EAAoBtD,KAAI2E,MAAKT,EAASlE,EAAI2E,cAAtB7D,GAA4C8D,EAActB,KACrFiC,EAAAA,UAAW,WADwGvF,EAArH6E,KAAA1D,EAAAnB,EAAA2E,KAAAT,MAAA,EAAAlE,EAAA4E,cAAAzD,GAAA,EAAA,KAGAnB,EAAI6E,KAAKrB,EAAAA,EAAiBxD,KAAI2E,MAAJ,EAAkB3E,EAAI2E,cAAtB1D,GAA4C2D,EAAJ,KAChEW,EAAAA,KAAAA,EAAUvF,EAAA2E,KAAAT,MAAA,EAAAlE,EAAA4E,cAAAvD,GAAA,IAAA,KADqGrB,EAAjH+E,SAAA,GAGA/E,EAAI6E,KAAKP,EAAAA,EAATK,KAA8BA,MAAKT,EAATlE,EAAqB4E,cAAcnD,GAASmD,EAAAA,KACpEW,EAAAA,SAAW,GADkGvF,EAA/G6E,KAAAnD,EAAA1B,EAAA2E,KAAAT,MAAA,EAAAlE,EAAA4E,cAAAlD,GAAA,IAAA,KAGA1B,EAAI6E,KAAKlB,EAAT3D,EAA8BA,KAAI2E,MAAJ,EAAkB3E,EAAI2E,cAAtB9C,GAA0D8B,EAAAA,KACtF4B,EAAAA,KAAAA,EAAUvF,EAAA2E,KAAAT,MAAA,EAAAlE,EAAA4E,cAAA5C,GAAA,EAAA,KAD6GhC,EAAzH6E,KAAAzC,EAAApC,EAAA2E,KAAAT,MAAA,EAAAlE,EAAA4E,cAAAxC,GAAA,EAAA,KAGApC,EAAI6E,KAAKL,EAAAA,EAAAA,KAAwBxE,MAASkE,EAAAA,EAASlE,cAAAsC,GAA0BsC,EAAAA,KAG7E5E,EAAI6E,UAAKhB,WACP0B,EAAAA,KAAAA,EAAUvF,EAAA2E,KAAAT,MAAA,IAAAlE,EAAA4E,cAAAlE,GAAA,IAAA,IAAA,CADZ6E,SAAA,CAAA,UAIEA,EAAAA,UAAW,WAD8GvF,EAA3H6E,KAAA9D,EAAAf,EAAA2E,KAAAT,MAAA,IAAAlE,EAAA4E,cAAA7D,GAAA,IAAA,IAAA,CAGAf,SAASwF,CAAAA,UAAgHxF,EAGzH6E,KAAA3D,EAAAlB,EAAA2E,KAAAT,MAAA,IAAAlE,EAAA4E,cAAA1D,GAAA,IAAA,IAAA,CACAqE,SAAA,CAAA,UACAvF,EAAI6E,SAAKhE,KACTb,EAAIsF,KAAAA,EAAUtF,EAAd2E,KAAAT,MAAA,IAAAlE,EAAA4E,cAAArD,GAAA,IAAA,IAAA,CACAvB,SAASc,CAAAA,UAETd,EAAI6E,SAAK1D,GACTnB,EAAI6E,KAAK5D,EAAkB0D,EAAKT,KAATA,MAAqBlE,IAAI4E,EAAAA,cAAc3D,GAA9D,IAAA,IAAA,CACAjB,SAASqB,CAAAA,UAETrB,EAAI6E,KAAKpD,EAAgBkD,EAAJA,KAAST,MAAYlE,IAAI4E,EAAAA,cAAcnD,GAA5D,IAAA,IAAA,CACAzB,SAAA,CAAa,UAEbA,EAAI6E,SAAKhD,KACT7B,EAAI6E,KAAK7C,EAAgBhC,EAAI2E,KAAKT,MAAT,IAAwBlE,EAAC4E,cAAc5C,GAAqB,IAArF,IAAA,CACAhC,SAASoC,CAAAA,UAGTpC,EAAA+E,SAAA,GA4BA/E,EAAI6E,KAAKxC,EAAgBrC,EAAI2E,KAAKT,MAAQ,IAAMlE,EAAI4E,cAAcvC,GAAkB,EAAG,IAAK,CA3B5FrC,SAAIsF,CAAJ,UAC8FtF,EAA9F+E,SAAA,GAGA/E,EAAIsF,KAAAA,kCACJtF,EAAI6E,UAAK9D,WACPwE,IAAAA,GAAW,iBAADxC,EAAA,OAD4E/C,EAAxFyE,MAAAgB,GAAA,IAAA,IAAA,CAGAzF,MAASkB,GACPqE,OAAQ,KAEVvF,EAAI+E,KAAAA,EAAJ/E,EAAA2E,KAAAT,MAAAlE,EAAA2E,KAAAT,MAAA,EAAAlE,EAAA4E,cAAApC,GAAA,IAAA,IAAA,CACAxC,SAASuB,CAAAA,UAA6EvB,EAAtF6E,KAAAlC,EAAA3C,EAAA2E,KAAAT,MAAAlE,EAAA2E,KAAAT,MAAA,EAAAlE,EAAA4E,cAAAjC,GAAA,IAAA,IAAA,CAGA3C,SAAA,CAAa,UAEXuF,EAAAA,KAAAA,EAAUvF,EAAA2E,KAAAT,MAAAlE,EAAA2E,KAAAT,MAAA,EAAAlE,EAAA4E,cAAA/B,GAAA,IAAA,IAAA,CADZ0C,SAAA,CAAA,UAMAvF,EAAI+E,SAAS,GAEXQ,EAAAA,MADOrD,yBACI,GAAD,IAAA,CADZgC,MAAA,GAGAlE,OAAI+E,KAEFQ,EAAAA,MAvJuB,gCAuJb,GAAA,IAAA,CADZrB,MAGA,GA4BEC,OAAQ,KA1BVnE,EAAIC,KAAKyF,GAAA1F,EAAA2E,KAAAT,MAAT,EAAAlE,EAAA4E,cAAAc,IAAA,IAAA,KACA1F,EAAIsF,KAAAA,EAAJtF,EAAA2E,KAAAT,MAAA,EAAAlE,EAAA4E,cAAAZ,GAAA,IAAA,IAAA,CACAuB,SAAIE,CAAS,UAEXvB,EAAAA,UAD6B,WAE7BC,EAAAA,KAAMwB,GAAE3F,EAAA2E,KAAAT,MAAA,EAAAlE,EAAA4E,cAAAe,IAAA,IAAA,KAGRJ,EAAAA,UAAW,WADgGvF,EAA7G+E,SAAA,GAGA/E,EAAI6E,KAAKlC,EAAAA,GAAT,KACE4C,EAAAA,KAAAA,EAAU,GAAA,KAEiG,IAG7GK,GAAA,GACA5F,EAAA6F,GAAA,OAAAD,GAAAE,KAAAC,KAAAH,KA4BA5F,EAAI6F,GAAG,MAAO,WA3Bd7F,IAAI+E,EAAJiB,OAAAC,OAAAL,IACAM,GAAIC,UAAO,IAAA,CACP1B,iBAAgBuB,OAAKI,WAAAC,GACvBnC,eADuB,kBAEvBC,sBAAAA,kCAAAA,OAAQ1C,EAAR0C,KAAAA,OAAQvD,EAARuD,aAEFnE,GAAIyE,IAAMS,KAgCVlF,EAAIsG,QA5XN,MAiWMzB,SAAAA,GACFU,QAAAA,IAAUgB,OAGZvG,OAAGwG,QAAMb","file":"model_sikleaves.min.js","sourcesContent":["const router = require('express').Router();\r\nconst PDFDocument = require('pdfkit');\r\nconst path = require('path');\r\nconst Customer = require('../models/customerSchema.cjs');\r\nconst {\r\n  fileURLToPath\r\n} = require('url');\r\nconst {\r\n  dirname\r\n} = require('path');\r\n\r\nrouter.get('/sickleavecreat/:id', (req, res) => {\r\n  Customer.findById(req.params.id).then(result => {\r\n\r\n    const doc = new PDFDocument;\r\n    doc.font('/public/font/Cairo-Regular.ttf');\r\n    doc.page.size = 'A4';\r\n    doc.page.margins = {\r\n      top: 0,\r\n      bottom: 50,\r\n      left: 20,\r\n      right: 20\r\n    };\r\n\r\n    var daynum = result.inputdaynum;\r\n    var infoid = result.inputgsl;\r\n    var infodurationar = result.inputindurationh;\r\n    var infodurationen = result.inputdurationm;\r\n    var infodatehin = result.inputdatehin;\r\n    var infodatemout = result.inputdatemout;\r\n    var infodatehout = result.inputdatehout;\r\n    var infodatemin = result.inputdatemin;\r\n    var infodatem = result.inputdatesick;\r\n    var infonamear = result.inputnamear;\r\n    var infonameen = result.inputnameen;\r\n    var infonational = result.inputidentity;\r\n    var infonationalityar = result.inputnationalityar;\r\n    var infonationalityen = result.inputnationalityen;\r\n    var infoemployerar = result.inputworkar;\r\n    var infoemployeren = result.inputworken;\r\n    var infophysicianar = result.inputdoctorar;\r\n    var infophysicianen = result.inputdoctoren;\r\n    var infoPositionAr = result.inputworktypear;\r\n    var infoPositionEn = result.inputworktypeen;\r\n    var infoCentralAr = result.inputcentralnamear;\r\n    var infotime = result.inputtimeparint;\r\n    var infoCentralEn = result.inputcentralnameen;\r\n    var infoDateAr = result.inputdateparint;\r\n    var infoCentralid = result.inputcentralid;\r\n    var logocenter = result.inputcentralnum;\r\n\r\n    console.log(result);\r\n\r\n    if (typeof daynum === 'undefined') {\r\n      console.log(daynum);\r\n      daynum = \"\";\r\n    }\r\n    if (typeof infoid === 'undefined') {\r\n      console.log(infoid);\r\n      infoid = \"\";\r\n    }\r\n    if (typeof infodurationar === 'undefined') {\r\n      console.log(infodurationar);\r\n      infodurationar = \"\";\r\n    }\r\n    if (typeof infodurationen === 'undefined') {\r\n      console.log(infodurationen);\r\n      infodurationen = \"\";\r\n    }\r\n    if (typeof infodatehin === 'undefined') {\r\n      console.log(infodatehin);\r\n      infodatehin = \"\";\r\n    }\r\n    if (typeof infodatemout === 'undefined') {\r\n      console.log(infodatemout);\r\n      infodatemout = \"\";\r\n    }\r\n    if (typeof infodatehout === 'undefined') {\r\n      console.log(infodatehout);\r\n      infodatehout = \"\";\r\n    }\r\n    if (typeof infodatemin === 'undefined') {\r\n      console.log(infodatemin);\r\n      infodatemin = \"\";\r\n    }\r\n    if (typeof infodatem === 'undefined') {\r\n      console.log(infodatem);\r\n      infodatem = \"\";\r\n    }\r\n    if (typeof infonamear === 'undefined') {\r\n      console.log(infonamear);\r\n      infonamear = \"\";\r\n    }\r\n    if (typeof infonameen === 'undefined') {\r\n      console.log(infonameen);\r\n      infonameen = \"\";\r\n    }\r\n    if (typeof infonational === 'undefined') {\r\n      console.log(infonational);\r\n      infonational = \"\";\r\n    }\r\n    if (typeof infonationalityar === 'undefined') {\r\n      console.log(infonationalityar);\r\n      infonationalityar = \"\";\r\n    }\r\n    if (typeof infonationalityen === 'undefined') {\r\n      console.log(infonationalityen);\r\n      infonationalityen = \"\";\r\n    }\r\n    if (typeof infoemployerar === 'undefined') {\r\n      infoemployerar = '';\r\n      console.log(infoemployerar);\r\n    }\r\n    if (typeof infoemployeren === 'undefined') {\r\n      infoemployeren = '';\r\n      console.log(infoemployeren);\r\n    }\r\n    if (typeof infophysicianar === 'undefined') {\r\n      infophysicianar = '';\r\n      console.log(infophysicianar);\r\n    }\r\n    if (typeof infophysicianen === 'undefined') {\r\n      infophysicianen = '';\r\n      console.log(infophysicianen);\r\n    }\r\n    if (typeof infoPositionAr === 'undefined') {\r\n      infoPositionAr = '';\r\n      console.log(infoPositionAr);\r\n    }\r\n    if (typeof infoPositionEn === 'undefined') {\r\n      infoPositionEn = '';\r\n      console.log(infoPositionEn);\r\n    }\r\n    if (typeof infoCentralAr === 'undefined') {\r\n      infoCentralAr = '';\r\n      console.log(infoCentralAr);\r\n    }\r\n    if (typeof infotime === 'undefined') {\r\n      infotime = '';\r\n      console.log(infotime);\r\n    }\r\n    if (typeof infoCentralEn === 'undefined') {\r\n      infoCentralEn = '';\r\n      console.log(infoCentralEn);\r\n    }\r\n    if (typeof infoDateAr === 'undefined') {\r\n      infoDateAr = '';\r\n      console.log(infoDateAr);\r\n    }\r\n    if (typeof infoCentralid === 'undefined') {\r\n      infoCentralid = '';\r\n      console.log(infoCentralid);\r\n    }\r\n    if (typeof logocenter === 'undefined') {\r\n      logocenter = '1';\r\n      console.log(logocenter);\r\n    }\r\n    //-----------القالب----------------\r\n    const sickleaveTitleEn = \"Kingdom of Saudi Arabia\";\r\n    const sickleaveRebortEn = \"Sick Leave Report\";\r\n    const sickleaveRebortAr = \"تقرير إجازة مرضية\";\r\n    const sickleaveIdEn = \"Leave ID\";\r\n    const sickleaveIdAr = \"رمز الإجازة\";\r\n    const sickleaveDurationEn = \"Leave Duration\";\r\n    const sickleaveDurationAr = \"مدة الإجازة\";\r\n    const sickleaveDateInEn = \"Admission Date\";\r\n    const sickleaveDateInAr = \"تاريخ الدخول\";\r\n    const sickleaveDateOutEn = \"Discharge Date\";\r\n    const sickleaveDateOutAr = \"تاريخ الخروج\";\r\n    const sickleaveDateEn = \"Issue Date\";\r\n    const sickleaveDateAr = \"تاريخ اصدار التقرير\";\r\n    const sickleaveNameEn = \"Name\";\r\n    const sickleaveNameAr = \"الاسم\";\r\n    const sickleaveNationalEn = \"National ID/Iqama\";\r\n    const sickleaveNationalAr = \"رقم الهوية/الإقامة\";\r\n    const sickleaveNationalityEn = \"Nationality\";\r\n    const sickleaveNationalityAr = \"الجنسية\";\r\n    const sickleaveEmployerEn = \"Employer\";\r\n    const sickleaveEmployerAr = \"جهة العمل\";\r\n    const sickleavePhysicianEn = \"Physician Name\";\r\n    const sickleavePhysicianAr = \"اسم الطبيب المعالج\";\r\n    const sickleavePositionEn = \"Position\";\r\n    const sickleavePositionAr = \"المسمى الوظيفي\";\r\n    //-----------القالب----------------\r\n    // Add the data to the PDF document\r\n    const infobarcodear = \"للتحقق من بيانات التقرير يرجى التاكد من زيارة موقع منصة صحة الرسمي\";\r\n    const infobarcodeen = \"to check the report data please visit Seha`s official website\";\r\n    const infobarcodeweb = \"www.quiris-se.pw/ui/slenquiry\";\r\n    //-----------logo----------------\r\n    var imagesBack = '/public/image/back1.jpg';\r\n    doc.image(imagesBack, 0, 0, {\r\n      width: 595.28,\r\n      height: 841.89\r\n    });\r\n    var logo_seha = '/public/image/logo-seha.jpg';\r\n    doc.image(logo_seha, 26, 20, {\r\n      width: 90,\r\n      height: 50\r\n    });\r\n    var imageslogo_kingdom = '/public/image/logo-kingdom.jpg';\r\n    doc.image(imageslogo_kingdom, 235, 20, {\r\n      width: 125,\r\n      height: 40\r\n    });\r\n    var imageslogo_right = '/public/image/logo-right.jpg';\r\n    doc.image(imageslogo_right, 430, 1.7, {\r\n      width: 181,\r\n      height: 140\r\n    });\r\n    var imagesbarcode_new = '/public/image/barcode-new.jpg';\r\n    var imageslogo_health = '/public/image/logo-health.jpg';\r\n    doc.image(imageslogo_health, 475, 722, {\r\n      width: 100,\r\n      height: 50\r\n    });\r\n    //var imageslogo_health = '/public/image/logo.jpg'; \r\n    //-----------logo----------------\r\n    // Add the rest of the data...\r\n    // حفظ المستند في ملف\r\n    doc.fontSize(10);\r\n    doc.fillColor('#0f0e0e');\r\n    doc.font('/public/font/Cairo-SemiBold.ttf');\r\n    doc.text(sickleaveTitleEn, doc.page.width / 2 - doc.widthOfString(sickleaveTitleEn) / 1.7, 40);\r\n    doc.fillColor('#304378');\r\n    doc.fontSize(20);\r\n    doc.font('/public/font/Cairo-Bold.ttf');\r\n    doc.text(sickleaveRebortEn, doc.page.width / 2 - doc.widthOfString(sickleaveRebortEn) / 1.9, 135);\r\n    doc.fillColor('#4f80c4');\r\n    doc.text(sickleaveRebortAr, doc.page.width / 2 - doc.widthOfString(sickleaveRebortAr) / 1.9, 100, {\r\n      features: ['rtla']\r\n    });\r\n    doc.fontSize(8);\r\n    doc.fillColor('#304378');\r\n    doc.font('/public/font/Cairo-SemiBold.ttf');\r\n    doc.text(sickleaveIdEn, doc.page.width / 9 - doc.widthOfString(sickleaveIdEn) / 2.5, 224);\r\n    doc.fillColor('#fbfbfb');\r\n    doc.text(sickleaveDurationEn, doc.page.width / 9 - doc.widthOfString(sickleaveDurationEn) / 2.5, 253);\r\n    doc.fillColor('#304378');\r\n    doc.text(sickleaveDateInEn, doc.page.width / 9 - doc.widthOfString(sickleaveDateInEn) / 2.5, 284);\r\n    doc.text(sickleaveDateOutEn, doc.page.width / 9 - doc.widthOfString(sickleaveDateOutEn) / 2.5, 314);\r\n    doc.text(sickleaveDateEn, doc.page.width / 9 - doc.widthOfString(sickleaveDateEn) / 2.5, 344);\r\n    doc.text(sickleaveNameEn, doc.page.width / 9 - doc.widthOfString(sickleaveNameEn) / 2.5, 375);\r\n    doc.text(sickleaveNationalEn, doc.page.width / 9 - doc.widthOfString(sickleaveNationalEn) / 2.5, 406);\r\n    doc.text(sickleaveNationalityEn, doc.page.width / 9 - doc.widthOfString(sickleaveNationalityEn) / 2.5, 436);\r\n    doc.text(sickleaveEmployerEn, doc.page.width / 9 - doc.widthOfString(sickleaveEmployerEn) / 2.5, 466);\r\n    doc.text(sickleavePhysicianEn, doc.page.width / 9 - doc.widthOfString(sickleavePhysicianEn) / 2.5, 498);\r\n    doc.text(sickleavePositionEn, doc.page.width / 9 - doc.widthOfString(sickleavePositionEn) / 2.5, 527);\r\n    //----------ar-البيانات----------------\r\n    doc.fontSize(8);\r\n    doc.fillColor('#304378');\r\n    doc.text(sickleaveIdAr, doc.page.width - (doc.page.width / 6) - doc.widthOfString(sickleaveIdAr) / 3.5, 223, {\r\n      features: ['rtla']\r\n    });\r\n    doc.fillColor('#fbfbfb');\r\n    doc.text(sickleaveDurationAr, doc.page.width - (doc.page.width / 6) - doc.widthOfString(sickleaveDurationAr) / 3.5, 252, {\r\n      features: ['rtla']\r\n    });\r\n    doc.fillColor('#304378');\r\n    doc.text(sickleaveDateInAr, doc.page.width - (doc.page.width / 6) - doc.widthOfString(sickleaveDateInAr) / 3, 282, {\r\n      features: ['rtla']\r\n    });\r\n    doc.text(sickleaveDateOutAr, doc.page.width - (doc.page.width / 6) - doc.widthOfString(sickleaveDateOutAr) / 3, 312, {\r\n      features: ['rtla']\r\n    });\r\n    doc.text(sickleaveDateAr, doc.page.width - (doc.page.width / 6) - doc.widthOfString(sickleaveDateAr) / 2.7, 342, {\r\n      features: ['rtla']\r\n    });\r\n    doc.text(sickleaveNameAr, doc.page.width - (doc.page.width / 6) - doc.widthOfString(sickleaveNameAr) / 5, 373, {\r\n      features: ['rtla']\r\n    });\r\n    doc.text(sickleaveNationalAr, doc.page.width - (doc.page.width / 6) - doc.widthOfString(sickleaveNationalAr) / 2.6, 404, {\r\n      features: ['rtla']\r\n    });\r\n    doc.text(sickleaveNationalityAr, doc.page.width - (doc.page.width / 6) - doc.widthOfString(sickleaveNationalityAr) / 5, 434, {\r\n      features: ['rtla']\r\n    });\r\n    doc.text(sickleaveEmployerAr, doc.page.width - (doc.page.width / 6) - doc.widthOfString(sickleaveEmployerAr) / 4, 464, {\r\n      features: ['rtla']\r\n    });\r\n    doc.text(sickleavePhysicianAr, doc.page.width - (doc.page.width / 6) - doc.widthOfString(sickleavePhysicianAr) / 2.6, 494, {\r\n      features: ['rtla']\r\n    });\r\n    doc.text(sickleavePositionAr, doc.page.width - (doc.page.width / 6) - doc.widthOfString(sickleavePositionAr) / 2.6, 523, {\r\n      features: ['rtla']\r\n    });\r\n    //----------ar-البيانات----------------\r\n    //------------البيانات المدرجة----------\r\n    doc.text(infoid, doc.page.width / 2 - doc.widthOfString(infoid) / 1.6, 224);\r\n    doc.fillColor('#fbfbfb');\r\n    doc.text(infodurationen, doc.page.width / 3 - doc.widthOfString(infodurationen) / 2, 254);\r\n    doc.fillColor('#304378');\r\n    doc.text(infodatemin, doc.page.width / 3 - doc.widthOfString(infodatemin) / 2, 285);\r\n    doc.text(infodatemout, doc.page.width / 3 - doc.widthOfString(infodatemout) / 2, 315);\r\n    doc.text(infodatem, doc.page.width / 2 - doc.widthOfString(infodatem) / 1.6, 345);\r\n    doc.fontSize(7);\r\n    doc.text(infonameen, doc.page.width / 3 - doc.widthOfString(infonameen) / 2, 377);\r\n    doc.fontSize(8);\r\n    doc.text(infonational, doc.page.width / 2 - doc.widthOfString(infonational) / 1.6, 406);\r\n    doc.text(infonationalityen, doc.page.width / 3 - doc.widthOfString(infonationalityen) / 2, 436);\r\n    doc.text(infoemployeren, doc.page.width / 3 - doc.widthOfString(infoemployeren) / 2, 466);\r\n    doc.text(infophysicianen, doc.page.width / 3 - doc.widthOfString(infophysicianen) / 2, 497);\r\n    doc.text(infoPositionEn, doc.page.width / 3 - doc.widthOfString(infoPositionEn) / 2, 528);\r\n    //------------البيانات المدرجة----------\r\n    //------------ar-البيانات المدرجة----------\r\n    doc.fillColor('#fbfbfb');\r\n    doc.text(infodurationar, doc.page.width / 1.5 - doc.widthOfString(infodurationar) / 1.5, 254, {\r\n      features: ['rtla']\r\n    });\r\n    doc.fillColor('#304378');\r\n    doc.text(infodatehin, doc.page.width / 1.5 - doc.widthOfString(infodatehin) / 1.3, 285, {\r\n      features: ['rtla']\r\n    });\r\n    doc.text(infodatehout, doc.page.width / 1.5 - doc.widthOfString(infodatehout) / 1.3, 315, {\r\n      features: ['rtla']\r\n    });\r\n    doc.fontSize(7.5);\r\n    doc.text(infonamear, doc.page.width / 1.5 - doc.widthOfString(infonamear) / 1.6, 376, {\r\n      features: ['rtla']\r\n    });\r\n    doc.fontSize(8);\r\n    doc.text(infonationalityar, doc.page.width / 1.5 - doc.widthOfString(infonationalityar) / 1.1, 436, {\r\n      features: ['rtla']\r\n    });\r\n    doc.text(infoemployerar, doc.page.width / 1.5 - doc.widthOfString(infoemployerar) / 1.4, 468, {\r\n      features: ['rtla']\r\n    });\r\n    doc.fontSize(7.5);\r\n    doc.text(infophysicianar, doc.page.width / 1.5 - doc.widthOfString(infophysicianar) / 1.4, 497, {\r\n      features: ['rtla']\r\n    });\r\n    doc.fontSize(8);\r\n    doc.text(infoPositionAr, doc.page.width / 1.5 - doc.widthOfString(infoPositionAr) / 1, 528, {\r\n      features: ['rtla']\r\n    });\r\n    //-----------CENTRAL NAME ID----------\r\n    doc.fontSize(7);\r\n    doc.font('/public/font/Cairo-Regular.ttf');\r\n    doc.fillColor('#0f0e0e');\r\n    var imagelogo = '/public/image/' + logocenter + '.jpg';\r\n    doc.image(imagelogo, 417, 614, {\r\n      width: 75,\r\n      height: 65\r\n    });\r\n    doc.text(infoCentralAr, doc.page.width - (doc.page.width / 4) - doc.widthOfString(infoCentralAr) / 1.8, 678, {\r\n      features: ['rtla']\r\n    });\r\n    doc.text(infoCentralEn, doc.page.width - (doc.page.width / 4) - doc.widthOfString(infoCentralEn) / 1.8, 689, {\r\n      features: ['rtla']\r\n    });\r\n    doc.text(infoCentralid, doc.page.width - (doc.page.width / 4) - doc.widthOfString(infoCentralid) / 1.8, 699, {\r\n      features: ['rtla']\r\n    });\r\n    //-----------CENTRAL LOGO----------\r\n    //------------BARCODE NAME ID----------\r\n    doc.fontSize(7);\r\n    var line = '/public/image/line.jpg';\r\n    doc.image(line, 75, 680, {\r\n      width: 90,\r\n      height: 10\r\n    });\r\n    doc.image(imagesbarcode_new, 86, 570, {\r\n      width: 69,\r\n      height: 70\r\n    }); //logo\r\n    doc.text(infobarcodeen, doc.page.width / 6 - doc.widthOfString(infobarcodeen) / 2.9, 663);\r\n    doc.text(infobarcodear, doc.page.width / 6 - doc.widthOfString(infobarcodear) / 2.5, 649, {\r\n      features: ['rtla']\r\n    });\r\n    doc.fillColor('#0000FF'); // Set font color to blue\r\n    doc.text(infobarcodeweb, doc.page.width / 6 - doc.widthOfString(infobarcodeweb) / 3.6, 674);\r\n\r\n    //------------توقيت الطبيب----------\r\n    doc.fillColor('#0f0e0e');\r\n    doc.fontSize(7);\r\n    doc.text(infotime, 35, 710);\r\n    doc.text(infoDateAr, 35, 720);\r\n    //------------توقيت الطبيب----------\r\n\r\n    // Pipe the document to a blob\r\n    const buffers = [];\r\n    doc.on('data', buffers.push.bind(buffers));\r\n    doc.on('end', () => {\r\n      const pdfData = Buffer.concat(buffers);\r\n      res.writeHead(200, {\r\n        'Content-Length': Buffer.byteLength(pdfData),\r\n        'Content-Type': 'application/pdf',\r\n        'Content-disposition': `attachment;filename=sickleaves_${infonameen}_${daynum}day.pdf`,\r\n      });\r\n      res.end(pdfData);\r\n    });\r\n\r\n    // Finalize the PDF and end the stream\r\n    doc.end();\r\n\r\n  }).catch(err => {\r\n    console.log(err);\r\n  });\r\n});\r\n\r\nmodule.exports = router;"]}