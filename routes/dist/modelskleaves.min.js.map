{"version":3,"sources":["modelskleaves.js"],"names":["express","require","router","Router","fs","Customer","get","req","res","findById","params","id","then","result","console","log","err","post","next","json","doc","page","size","margins","top","left","right","daynum","body","tday","PDFDocument","tinfodurationar","tinfodurationen","tinfodatehin","tinfodatemout","bottom","tinfodatehout","tinfodatemin","tinfodatem","infonamear","tinfonamear","infonameen","infonational","tinfoid","infodurationar","infodurationen","infodatehin","infodatemout","infodatehout","infodatemin","infodatem","tinfonameen","infonationalityar","infonationalityen","infoemployerar","tinfoCentralid","infoemployeren","infophysicianen","infoPositionAr","infoPositionEn","infoCentralAr","infotime","tinfotime","infoCentralEn","tinfoCentralEn","infoDateAr","tinfoDateAr","infoCentralid","logocenter","sickleaveDateOutEn","sickleaveTitleEn","sickleaveRebortEn","sickleaveRebortAr","sickleaveIdEn","sickleaveIdAr","sickleaveDurationEn","sickleaveDurationAr","sickleaveDateInEn","sickleaveDateInAr","sickleaveDateOutAr","sickleaveDateEn","sickleaveDateAr","sickleaveNameEn","sickleaveNameAr","sickleaveNationalityEn","sickleaveNationalityAr","sickleaveEmployerEn","image","sickleavePhysicianEn","sickleavePhysicianAr","width","height","sickleavePositionEn","sickleavePositionAr","fontSize","logo_seha","widthOfString","fillColor","imageslogo_kingdom","text","features","imageslogo_right","imagesbarcode_new","imageslogo_health","sickleaveNationalEn","font","sickleaveNationalAr","sickleaveEmployerAr","infophysicianar","infobarcodeen","infobarcodear","infoid","buffers","writeHead","Content-Length","Buffer","byteLength","pdfData","Content-Type"],"mappings":"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","file":"modelskleaves.min.js","sourcesContent":["var express = require('express');\r\nvar router = express.Router();\r\nvar PDFDocument = require('pdfkit');\r\nvar fs = require('fs'); // Add this line to import the 'fs' module\r\nvar path = require('path'); // Add this line to import the 'path' module\r\nconst Customer = require('../models/customerSchema');\r\n\r\n//const doc = require('pdfkit');\r\n/* GET home page. */\r\nrouter.get('/user/:id', (req, res) => {\r\n    Customer.findById(req.params.id).then((result) => {\r\n        res.json(result);;\r\n        console.log(result);    \r\n    }).catch(err => {\r\n        console.log(err);\r\n    });\r\n});\r\n\r\nrouter.post('/generatorsickleaves', function(req, res, next) {\r\n  //console.log(req.body);\r\n  const doc = new PDFDocument;\r\n  doc.font('public/font/Cairo-Regular.ttf');\r\n  doc.page.size= 'A4';\r\n  doc.page.margins = {\r\n    top: 0,\r\n    bottom: 50,\r\n    left: 20,\r\n    right: 20\r\n  };\r\n  var daynum=req.body.tday\r\n  var infoid = req.body.tinfoid;\r\n  infodurationar = req.body.tinfodurationar;\r\n  infodurationen = req.body.tinfodurationen;\r\n  infodatehin = req.body.tinfodatehin;\r\n  infodatemout = req.body.tinfodatemout;\r\n  infodatehout = req.body.tinfodatehout;\r\n  infodatemin = req.body.tinfodatemin;\r\n  infodatem = req.body.tinfodatem;\r\n  infonamear = req.body.tinfonamear;\r\n  infonameen = req.body.tinfonameen;\r\n  infonational = req.body.tinfonational;\r\n  infonationalityar = req.body.tinfonationalityar;\r\n  infonationalityen = req.body.tinfonationalityen;\r\n  infoemployerar = req.body.tinfoemployerar;\r\n  infoemployeren = req.body.tinfoemployeren;\r\n  infophysicianar = req.body.tinfophysicianar;\r\n  infophysicianen = req.body.tinfophysicianen;\r\n  infoPositionAr = req.body.tinfoPositionAr;\r\n  infoPositionEn = req.body.tinfoPositionEn;\r\n  infoCentralAr = req.body.tinfoCentralAr;\r\n  infotime = req.body.tinfotime;\r\n  infoCentralEn = req.body.tinfoCentralEn;\r\n  infoDateAr =   req.body.tinfoDateAr;\r\n  infoCentralid = req.body.tinfoCentralid;\r\n  logocenter = req.body.logocenter;\r\n//-----------القالب----------------\r\nconst sickleaveTitleEn = \"Kingdom of Saudi Arabia\";\r\nconst sickleaveRebortEn = \"Sick Leave Report\";\r\nconst sickleaveRebortAr = \"تقرير إجازة مرضية\";\r\nconst sickleaveIdEn = \"Leave ID\";\r\nconst sickleaveIdAr = \"رمز الإجازة\";\r\nconst sickleaveDurationEn = \"Leave Duration\";\r\nconst sickleaveDurationAr = \"مدة الإجازة\";\r\nconst sickleaveDateInEn = \"Admission Date\";\r\nconst sickleaveDateInAr = \"تاريخ الدخول\";\r\nconst sickleaveDateOutEn = \"Discharge Date\";\r\nconst sickleaveDateOutAr = \"تاريخ الخروج\";\r\nconst sickleaveDateEn = \"Issue Date\";\r\nconst sickleaveDateAr = \"تاريخ اصدار التقرير\";\r\nconst sickleaveNameEn = \"Name\";\r\nconst sickleaveNameAr = \"الاسم\";\r\nconst sickleaveNationalEn = \"National ID/Iqama\";\r\nconst sickleaveNationalAr = \"رقم الهوية/الإقامة\";\r\nconst sickleaveNationalityEn = \"Nationality\";\r\nconst sickleaveNationalityAr = \"الجنسية\";\r\nconst sickleaveEmployerEn = \"Employer\";\r\nconst sickleaveEmployerAr = \"جهة العمل\";\r\nconst sickleavePhysicianEn = \"Physician Name\";\r\nconst sickleavePhysicianAr = \"اسم الطبيب المعالج\";\r\nconst sickleavePositionEn = \"Position\";\r\nconst sickleavePositionAr = \"المسمى الوظيفي\";\r\n//-----------القالب----------------\r\n  // Add the data to the PDF document\r\nconst infobarcodear = \"للتحقق من بيانات التقرير يرجى التاكد من زيارة موقع منصة صحة الرسمي\";\r\nconst infobarcodeen = \"to check the report data please visit Seha`s official website\";\r\nconst infobarcodeweb = \"www.quiris-se.pw/ui/slenquiry\";\r\n//-----------logo----------------\r\nvar imagesBack = 'public/image/back1.jpg'; \r\ndoc.image(imagesBack, 0, 0, { width: 595.28, height: 841.89 });\r\nvar logo_seha = 'public/image/logo-seha.jpg'; \r\ndoc.image(logo_seha, 26, 20, { width: 90, height: 50 });\r\nvar imageslogo_kingdom = 'public/image/logo-kingdom.jpg'; \r\ndoc.image(imageslogo_kingdom, 235, 20, { width: 125, height: 40 });\r\nvar imageslogo_right = 'public/image/logo-right.jpg'; \r\ndoc.image(imageslogo_right, 430, 1.7, { width: 181, height: 140 });\r\nvar imagesbarcode_new = 'public/image/barcode-new.jpg'; \r\nvar imageslogo_health = 'public/image/logo-health.jpg'; \r\ndoc.image(imageslogo_health, 475, 722, { width: 100, height: 50 });\r\n//var imageslogo_health = 'public/image/logo.jpg'; \r\n//-----------logo----------------\r\n  // Add the rest of the data...\r\n// حفظ المستند في ملف\r\ndoc.fontSize(10);\r\ndoc.fillColor('#0f0e0e');\r\ndoc.font('public/font/Cairo-SemiBold.ttf');\r\ndoc.text(sickleaveTitleEn, doc.page.width / 2 - doc.widthOfString(sickleaveTitleEn) / 1.7, 40);\r\ndoc.fillColor('#304378');\r\ndoc.fontSize(20);\r\ndoc.font('public/font/Cairo-Bold.ttf');\r\ndoc.text(sickleaveRebortEn, doc.page.width / 2 - doc.widthOfString(sickleaveRebortEn) / 1.9, 135);\r\ndoc.fillColor('#4f80c4');\r\ndoc.text(sickleaveRebortAr, doc.page.width / 2 - doc.widthOfString(sickleaveRebortAr) / 1.9, 100,{features: ['rtla']});\r\ndoc.fontSize(8);\r\ndoc.fillColor('#304378');\r\ndoc.font('public/font/Cairo-SemiBold.ttf');\r\ndoc.text(sickleaveIdEn, doc.page.width / 9 - doc.widthOfString(sickleaveIdEn) / 2.5, 224);\r\ndoc.fillColor('#fbfbfb');\r\ndoc.text(sickleaveDurationEn, doc.page.width / 9 - doc.widthOfString(sickleaveDurationEn) / 2.5, 253);\r\ndoc.fillColor('#304378');\r\ndoc.text(sickleaveDateInEn, doc.page.width / 9 - doc.widthOfString(sickleaveDateInEn) / 2.5, 284);\r\ndoc.text(sickleaveDateOutEn, doc.page.width / 9 - doc.widthOfString(sickleaveDateOutEn) / 2.5, 314);  \r\ndoc.text(sickleaveDateEn, doc.page.width / 9 - doc.widthOfString(sickleaveDateEn) / 2.5 , 344);\r\ndoc.text(sickleaveNameEn, doc.page.width / 9 - doc.widthOfString(sickleaveNameEn) / 2.5, 375);\r\ndoc.text(sickleaveNationalEn, doc.page.width / 9 - doc.widthOfString(sickleaveNationalEn) / 2.5, 406);\r\ndoc.text(sickleaveNationalityEn, doc.page.width / 9 - doc.widthOfString(sickleaveNationalityEn) / 2.5, 436);\r\ndoc.text(sickleaveEmployerEn, doc.page.width / 9 - doc.widthOfString(sickleaveEmployerEn) / 2.5, 466);\r\ndoc.text(sickleavePhysicianEn, doc.page.width / 9 - doc.widthOfString(sickleavePhysicianEn) / 2.5, 498);\r\ndoc.text(sickleavePositionEn, doc.page.width / 9 - doc.widthOfString(sickleavePositionEn) / 2.5, 527);\r\n//----------ar-البيانات----------------\r\ndoc.fontSize(8);\r\ndoc.fillColor('#304378');\r\ndoc.text(sickleaveIdAr, doc.page.width - (doc.page.width / 6) - doc.widthOfString(sickleaveIdAr) / 3.5, 223,{features: ['rtla']});\r\ndoc.fillColor('#fbfbfb');\r\ndoc.text(sickleaveDurationAr, doc.page.width - (doc.page.width / 6) - doc.widthOfString(sickleaveDurationAr) / 3.5, 252,{features: ['rtla']});\r\ndoc.fillColor('#304378');\r\ndoc.text(sickleaveDateInAr, doc.page.width - (doc.page.width / 6) - doc.widthOfString(sickleaveDateInAr) / 3, 282,{features: ['rtla']});\r\ndoc.text(sickleaveDateOutAr, doc.page.width - (doc.page.width / 6) - doc.widthOfString(sickleaveDateOutAr) / 3, 312,{features: ['rtla']});  \r\ndoc.text(sickleaveDateAr, doc.page.width - (doc.page.width / 6) - doc.widthOfString(sickleaveDateAr) /2.7, 342,{features: ['rtla']});\r\ndoc.text(sickleaveNameAr, doc.page.width - (doc.page.width / 6) - doc.widthOfString(sickleaveNameAr) / 5, 373,{features: ['rtla']});\r\ndoc.text(sickleaveNationalAr, doc.page.width - (doc.page.width / 6) - doc.widthOfString(sickleaveNationalAr) / 2.6, 404,{features: ['rtla']});\r\ndoc.text(sickleaveNationalityAr, doc.page.width - (doc.page.width / 6) - doc.widthOfString(sickleaveNationalityAr) / 5, 434,{features: ['rtla']});\r\ndoc.text(sickleaveEmployerAr, doc.page.width - (doc.page.width / 6) - doc.widthOfString(sickleaveEmployerAr) / 4, 464,{features: ['rtla']});\r\ndoc.text(sickleavePhysicianAr, doc.page.width - (doc.page.width / 6) - doc.widthOfString(sickleavePhysicianAr) / 2.6, 494,{features: ['rtla']});\r\ndoc.text(sickleavePositionAr, doc.page.width - (doc.page.width / 6)- doc.widthOfString(sickleavePositionAr) / 2.6, 523,{features: ['rtla']});\r\n//----------ar-البيانات----------------\r\n//------------البيانات المدرجة----------\r\ndoc.text(infoid, doc.page.width / 2 - doc.widthOfString(infoid) / 1.6, 224);\r\ndoc.fillColor('#fbfbfb');\r\ndoc.text(infodurationen, doc.page.width / 3 - doc.widthOfString(infodurationen) / 2, 254);\r\ndoc.fillColor('#304378');\r\ndoc.text(infodatemin, doc.page.width / 3 - doc.widthOfString(infodatemin) / 2, 285);\r\ndoc.text(infodatemout, doc.page.width / 3 - doc.widthOfString(infodatemout) / 2, 315);\r\ndoc.text(infodatem, doc.page.width / 2 - doc.widthOfString(infodatem) / 1.6, 345);\r\ndoc.fontSize(7);\r\ndoc.text(infonameen, doc.page.width / 3 - doc.widthOfString(infonameen) / 2, 377);\r\ndoc.fontSize(8);\r\ndoc.text(infonational, doc.page.width / 2 - doc.widthOfString(infonational) / 1.6, 406);\r\ndoc.text(infonationalityen, doc.page.width / 3 - doc.widthOfString(infonationalityen) / 2, 436);\r\ndoc.text(infoemployeren, doc.page.width / 3 - doc.widthOfString(infoemployeren) / 2, 466);\r\ndoc.text(infophysicianen, doc.page.width / 3 - doc.widthOfString(infophysicianen) / 2, 497);\r\ndoc.text(infoPositionEn, doc.page.width / 3 - doc.widthOfString(infoPositionEn) / 2, 528);\r\n//------------البيانات المدرجة----------\r\n//------------ar-البيانات المدرجة----------\r\ndoc.fillColor('#fbfbfb');\r\ndoc.text(infodurationar, doc.page.width / 1.5 - doc.widthOfString(infodurationar) / 1.5, 254,{features: ['rtla']});\r\ndoc.fillColor('#304378');\r\ndoc.text(infodatehin, doc.page.width / 1.5 - doc.widthOfString(infodatehin) / 1.3, 285,{features: ['rtla']});\r\ndoc.text(infodatehout, doc.page.width / 1.5 - doc.widthOfString(infodatehout) / 1.3, 315,{features: ['rtla']});\r\ndoc.fontSize(7.5);\r\ndoc.text(infonamear, doc.page.width / 1.5 - doc.widthOfString(infonamear) / 1.6, 376,{features: ['rtla']});\r\ndoc.fontSize(8);\r\ndoc.text(infonationalityar, doc.page.width / 1.5 - doc.widthOfString(infonationalityar) / 1.1, 436,{features: ['rtla']});\r\ndoc.text(infoemployerar, doc.page.width / 1.5 - doc.widthOfString(infoemployerar) / 1.4, 468,{features: ['rtla']});\r\ndoc.fontSize(7.5);\r\ndoc.text(infophysicianar, doc.page.width / 1.5 - doc.widthOfString(infophysicianar) / 1.4, 497,{features: ['rtla']});\r\ndoc.fontSize(8);\r\ndoc.text(infoPositionAr, doc.page.width / 1.5 - doc.widthOfString(infoPositionAr) / 1, 528,{features: ['rtla']});\r\n//-----------CENTRAL NAME ID----------\r\ndoc.fontSize(7);\r\ndoc.font('public/font/Cairo-Regular.ttf');\r\ndoc.fillColor('#0f0e0e');\r\nvar imagelogo = 'public/image/'+logocenter+'.jpg';\r\ndoc.image(imagelogo, 417, 614, { width: 75, height: 65 });\r\ndoc.text(infoCentralAr, doc.page.width  - (doc.page.width / 4) - doc.widthOfString(infoCentralAr) / 1.8, 678,{features: ['rtla']});\r\ndoc.text(infoCentralEn, doc.page.width - (doc.page.width / 4)-doc.widthOfString(infoCentralEn) / 1.8, 689,{features: ['rtla']});\r\ndoc.text(infoCentralid, doc.page.width - (doc.page.width / 4)-doc.widthOfString(infoCentralid) / 1.8, 699,{features: ['rtla']});\r\n//-----------CENTRAL LOGO----------\r\n//------------BARCODE NAME ID----------\r\ndoc.fontSize(7);\r\nvar line = 'public/image/line.jpg';\r\ndoc.image(line, 75, 680, { width: 90, height: 10 });\r\ndoc.image(imagesbarcode_new, 86, 570, { width: 69, height: 70 });//logo\r\ndoc.text(infobarcodeen, doc.page.width / 6 - doc.widthOfString(infobarcodeen) / 2.9, 663);\r\ndoc.text(infobarcodear, doc.page.width / 6 - doc.widthOfString(infobarcodear) / 2.5, 649,{features: ['rtla']});\r\ndoc.fillColor('#0000FF'); // Set font color to blue\r\ndoc.text(infobarcodeweb,doc.page.width / 6 - doc.widthOfString(infobarcodeweb) / 3.6, 674);\r\n\r\n//------------توقيت الطبيب----------\r\ndoc.fillColor('#0f0e0e');\r\ndoc.fontSize(7);\r\ndoc.text(infotime, 35, 710);\r\n  doc.text(infoDateAr, 35, 720);\r\n//------------توقيت الطبيب----------\r\n\r\n  // Pipe the document to a blob\r\n  const buffers = [];\r\n  doc.on('data', buffers.push.bind(buffers));\r\n  doc.on('end', () => {\r\n      const pdfData = Buffer.concat(buffers);\r\n      res.writeHead(200, {\r\n          'Content-Length': Buffer.byteLength(pdfData),\r\n          'Content-Type': 'application/pdf',\r\n          'Content-disposition': `attachment;filename=sickleaves_${infonameen}_${daynum}day.pdf`,\r\n      });\r\n      res.end(pdfData);\r\n  });\r\n\r\n  // Finalize the PDF and end the stream\r\n  doc.end();\r\n});\r\n\r\nmodule.exports = router;"]}