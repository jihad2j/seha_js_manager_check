{"version":3,"sources":["date.js"],"names":["resultsDiv","document","getElementById","toggleButton","submit","dateString","arabicNumbers","convertedDateString","i","length","englishNumbers","indexOf","char","index","split","dateParts","addEventListener","inputnormalizedservicecode","value","inputpsl","inputpatientid","inputid","body","JSON","stringify","normalizedservicecode","patientid","headers","then","response","json","data","message","alerterror2","style","display","alerterror","convertDate","inputdatesick","textContent","inputnamear","inputdaynum","inputdatefrom","inputdateto","inputdoctorar","inputworktypear"],"mappings":"aACA,IAAIA,WAAaC,SAASC,eAAe,cAArCF,OAAAA,SAAaC,eAASC,UAEtBC,aAAeF,SAASC,eAAe,gBAD3C,SAAIE,YAAiBC,GAGjB,IAAA,IAAIC,EAAgB,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAFlEH,EAAeF,CAAAA,IAASC,IAAAA,IAAAA,IAAe,IAAA,IAAA,IAAe,IAAA,IAAA,KAIlDK,EAAsB,GAFtBD,EAAAA,EAAaE,EAAIH,EAAUI,OAAUD,IAAK,CAC1CE,IAAAA,EAAAA,EAAiBF,GACjBD,EAAAA,EACJI,QAAAC,IAIgB,GAAVC,IAHDD,EAAQF,EAAOL,IAElBE,GAAyBK,EAEvBA,IAAAA,EAAOF,EAAPI,MAAA,KAOJ,OANGP,EAAAQ,EAAA,GAAA,IAAAA,EAAA,GAAA,IAAAA,EAAA,GASPX,OAAOY,iBAAiB,QAAS,WAC7B,IAAIC,EAA6BhB,SAASC,eAAe,yBANfgB,MAOtCC,EANkBJ,SAAUb,eAAWa,aAC3CG,MAMIE,MAAAA,YAAiBnB,CACjBoB,OAAUD,OAQNE,KAAMC,KAAKC,UAAU,CAJrBC,IAAAA,EACAC,GAAYL,IAEJM,QADO,CAEJH,eAAU,sBAFNI,KAAA,SAAAC,GAAA,OAAAA,EAAAC,SAMfH,KAAS,SAAAI,GACL,GAAAA,MAAAA,GAAgB,UAAAA,EAAAC,QADXC,YAAAC,MAAAC,QAAA,OAIPC,WAAAP,MAAQM,QAAA,OAAIN,aAAJK,MAAAC,QAAA,SACR/B,OAAA2B,MAAQI,QAAA,WAEMD,CACF,IAACA,EAAgBG,YAAON,EAAAO,eAMlCrC,SAASC,eAAe,eAAeqC,YAAcR,EAAKS,YAL1DrC,SAAmBgC,eAAU,iBAASI,YAAAD,EAOtCrC,SAASC,eAAe,YAAYqC,YAAcR,EAAKU,YANhDP,SAAMC,eAAiB,SAAAI,YAAAR,EAAAW,cAC9BzC,SAAAC,eAAA,OAAAqC,YAAAR,EAAAY,YACG1C,SAAAC,eAAA,cAAAqC,YAAAR,EAAAa,cACCN,SAAapC,eAAe6B,YAAKO,YAArCP,EAAAc,gBACS3C,WAAAA,MAAeiC,QAAxB,OACSjC,aAATgC,MAAwBC,QAAxB,SACSjC,OAAAA,MAATiC,QAAwB,OACfjC,WAAAA,MAAeiC,QAASI,OACxBrC,YAAAA,MAAeiC,QAAOI,UA/BvCnB,MAkCQpB,gBAEAI,aAAO8B,iBAAgB,QAAO,WAUxBjC,SAASC,eAAe,yBAT9BkC,MAAA,GACYF,SAAMC,eAAlB,aACHjB,MAAA,GAhCLf,aAkCO+B,MAAAC,QAlCP,OAqCRnC,WAAAkC,MAAAC,QAAA,OAQI/B,OAAO8B,MAAMC,QAAU,SAP3BhC,WAAaa,MAAAA,QAAiB,OAC1BiB,YAAeC,MAAGjC,QAASC","file":"date.min.js","sourcesContent":["\r\nvar resultsDiv = document.getElementById('resultsDiv');//info\r\nvar submit = document.getElementById('submit');//submit\r\nvar toggleButton = document.getElementById('toggleButton')//res\r\nfunction convertDate(dateString) {\r\n    var arabicNumbers = ['٠', '١', '٢', '٣', '٤', '٥', '٦', '٧', '٨', '٩'];\r\n    var englishNumbers = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9'];\r\n    var convertedDateString = \"\";\r\n    // تحويل الأرقام العربية إلى الأرقام الإنجليزية\r\n    for (var i = 0; i < dateString.length; i++) {\r\n      var char = dateString[i];\r\n      var index = arabicNumbers.indexOf(char);\r\n      if (index != -1) {\r\n        char = englishNumbers[index];\r\n      }\r\n      convertedDateString += char;\r\n    }\r\n    // عكس تنسيق التاريخ\r\n    var dateParts = convertedDateString.split(\"-\");\r\n    convertedDateString = dateParts[2] + \"-\" + dateParts[1] + \"-\" + dateParts[0];\r\n    return convertedDateString;\r\n  }\r\n\r\nsubmit.addEventListener('click', function () {\r\n    var inputnormalizedservicecode = document.getElementById(\"normalizedservicecode\");\r\n    var inputpsl = inputnormalizedservicecode.value;\r\n    var inputpatientid = document.getElementById(\"patientid\");\r\n    var inputid = inputpatientid.value;\r\n\r\n    // استدعاء الدالة للتحقق من القيم\r\n    \r\n        var normalizedservicecode = inputpsl;\r\n        var patientid = inputid;\r\n        fetch('/infosick', {\r\n            method: 'post',\r\n            body: JSON.stringify({\r\n              gsl: normalizedservicecode,\r\n              id: patientid,\r\n            }),\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            if (data === null || data === undefined || data.message === 'error') {\r\n                alerterror2.style.display = 'none';\r\n                alerterror.style.display = 'grid';//لايوجد نتائج\r\n                toggleButton.style.display = 'inline';//res\r\n                submit.style.display = 'none';//submit\r\n                //window.location = 'login'\r\n            } else {\r\n                var inputdatesick = convertDate(data.inputdatesick); \r\n                document.getElementById('patientname').textContent = data.inputnamear;\r\n                document.getElementById('sickleavedate').textContent = inputdatesick;\r\n                document.getElementById('duration').textContent = data.inputdaynum;\r\n                document.getElementById('from1').textContent = data.inputdatefrom;\r\n                document.getElementById('to1').textContent = data.inputdateto;\r\n                document.getElementById('doctorname').textContent = data.inputdoctorar;\r\n                document.getElementById('jobtitle').textContent = data.inputworktypear;\r\n                resultsDiv.style.display = 'flex';//info\r\n                toggleButton.style.display = 'inline';//res\r\n                submit.style.display = 'none';//submit\r\n                alerterror.style.display = 'none';\r\n                alerterror2.style.display = 'none';\r\n            }\r\n        })\r\n        .catch(() => { \r\n        });\r\n});\r\n//325156565651561565651561\r\ntoggleButton.addEventListener('click', function () {\r\n    const inputpsll = document.getElementById(\"normalizedservicecode\");\r\n    inputpsll.value = \"\";\r\n    const inputidd = document.getElementById(\"patientid\");\r\n    inputidd.value = \"\";\r\n    toggleButton.style.display = 'none';//res\r\n    resultsDiv.style.display = 'none';//info\r\n    submit.style.display = 'inline';//submit\r\n    alerterror.style.display = 'none';\r\n    alerterror2.style.display = 'none';\r\n\r\n\r\n});\r\n"]}