{"version":3,"sources":["api.js"],"names":["resultsDiv","document","getElementById","submit","toggleButton","checkValues","inputid","inputpsl","trim","length","convertDate","dateString","arabicNumbers","englishNumbers","convertedDateString","i","char","index","indexOf","dateParts","split","addEventListener","inputnormalizedservicecode","value","inputpatientid","valid","normalizedservicecode","patientid","fetch","method","body","JSON","stringify","gsl","id","headers","then","response","json","data","undefined","message","alerterror2","style","display","alerterror","textContent","inputnamear","iii","inputdatesick","datam","inputdaynum","inputdatefrom","inputdateto","inputdoctorar","inputworktypear","inputpsll","inputidd"],"mappings":"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","sourcesContent":["//var wls = window.location.search;\r\n//var url = new URLSearchParams(wls);\r\n//var inputElement = document.getElementById(\"service-code\");\r\n\r\nvar resultsDiv = document.getElementById('resultsDiv');//info\r\nvar submit = document.getElementById('submit');//submit\r\nvar toggleButton = document.getElementById('toggleButton')//res\r\n//جلب رقم المركز ورقم الهوية\r\n// دالة للتحقق من طول القيمتين\r\nfunction checkValues(inputid, inputpsl) {\r\n    // إزالة المسافات الزائدة\r\n    inputid = inputid.trim();\r\n    inputpsl = inputpsl.trim();\r\n    // التحقق من الطول\r\n    if (inputid.length == 10 && inputpsl.length == 14) {\r\n        return true;\r\n    } else {\r\n        return false;\r\n    }\r\n}\r\nfunction convertDate(dateString) {\r\n    var arabicNumbers = ['٠', '١', '٢', '٣', '٤', '٥', '٦', '٧', '٨', '٩'];\r\n    var englishNumbers = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9'];\r\n    var convertedDateString = \"\";\r\n    // تحويل الأرقام العربية إلى الأرقام الإنجليزية\r\n    for (var i = 0; i < dateString.length; i++) {\r\n      var char = dateString[i];\r\n      var index = arabicNumbers.indexOf(char);\r\n      if (index != -1) {\r\n        char = englishNumbers[index];\r\n      }\r\n      convertedDateString += char;\r\n    }\r\n    // عكس تنسيق التاريخ\r\n    var dateParts = convertedDateString.split(\"-\");\r\n    convertedDateString = dateParts[2] + \"-\" + dateParts[1] + \"-\" + dateParts[0];\r\n    return convertedDateString;\r\n  }\r\nsubmit.addEventListener('click', function () {\r\n    var inputnormalizedservicecode = document.getElementById(\"normalizedservicecode\");\r\n    var inputpsl = inputnormalizedservicecode.value;\r\n    var inputpatientid = document.getElementById(\"patientid\");\r\n    var inputid = inputpatientid.value;\r\n\r\n    // استدعاء الدالة للتحقق من القيم\r\n    var valid = checkValues(inputid, inputpsl);\r\n    if (valid) {\r\n        var normalizedservicecode = inputpsl;\r\n        var patientid = inputid;\r\n        fetch('/infosick', {\r\n            method: 'post',\r\n            body: JSON.stringify({\r\n              gsl: normalizedservicecode,\r\n              id: patientid,\r\n            }),\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            if (data === null || data === undefined || data.message === 'error') {\r\n                alerterror2.style.display = 'none';\r\n                alerterror.style.display = 'grid';//لايوجد نتائج\r\n                toggleButton.style.display = 'inline';//res\r\n                submit.style.display = 'none';//submit\r\n                //window.location = 'login'\r\n            } else {\r\n                document.getElementById('patientname').textContent = data.inputnamear;\r\n                var iii = data.inputdatesick;\r\n                var datam = convertDate(iii); \r\n                document.getElementById('sickleavedate').textContent = datam;\r\n                document.getElementById('duration').textContent = data.inputdaynum;\r\n                document.getElementById('from1').textContent = data.inputdatefrom;\r\n                document.getElementById('to1').textContent = data.inputdateto;\r\n                document.getElementById('doctorname').textContent = data.inputdoctorar;\r\n                document.getElementById('jobtitle').textContent = data.inputworktypear;\r\n                resultsDiv.style.display = 'flex';//info\r\n                toggleButton.style.display = 'inline';//res\r\n                submit.style.display = 'none';//submit\r\n                alerterror.style.display = 'none';\r\n                alerterror2.style.display = 'none';\r\n            }\r\n        })\r\n        .catch(() => { \r\n        });\r\n\r\n\r\n    } else {\r\n        alerterror.style.display = 'none';\r\n        alerterror2.style.display = 'grid';\r\n    }\r\n});\r\n//325156565651561565651561\r\ntoggleButton.addEventListener('click', function () {\r\n    const inputpsll = document.getElementById(\"normalizedservicecode\");\r\n    inputpsll.value = \"\";\r\n    const inputidd = document.getElementById(\"patientid\");\r\n    inputidd.value = \"\";\r\n    toggleButton.style.display = 'none';//res\r\n    resultsDiv.style.display = 'none';//info\r\n    submit.style.display = 'inline';//submit\r\n    alerterror.style.display = 'none';\r\n    alerterror2.style.display = 'none';\r\n\r\n\r\n});\r\n"],"file":"api.dev.js"}